#!/bin/sh

# Wayland/dwl env vars
export LIBSEAT_BACKEND=seatd
export CLUTTER_BACKEND=wayland
export DESKTOP_SESSION=dwl
export ELM_DISPLAY=wl
export GDK_BACKEND=wayland,x11
export MOZ_ENABLE_WAYLAND=1
export QT_QPA_PLATFORM="wayland;xcb"
export SDL_VIDEODRIVER=wayland
export XDG_CURRENT_DESKTOP=dwl
export XDG_SESSION_TYPE=wayland
export XDG_SESSION_DESKTOP=dwl
export ELECTRON_OZONE_PLATFORM_HINT=wayland

# amd gpu specific
export LIBVA_DRIVER_NAME=radeonsi
export VDPAU_DRIVER=radeonsi #r300 for old hw

# intel gpu specific
#export LIBVA_DRIVER_NAME=iHD #i965 for old hw
#export VDPAU_DRIVER=va_gl

# nvidia gpu specific
#export LIBVA_DRIVER_NAME=nvidia #nouveau for foss type
#export VDPAU_DRIVER=nvidia #nouveau
#export GBM_BACKEND=nvidia-drm
#export __GLX_VENDOR_LIBRARY_NAME=nvidia
#export __GL_VRR_ALLOWED=0

# themes
export QT_SELECT=Rosepine-Dark
export QT_STYLE_OVERRIDE=Rosepine-Dark
export QT_AUTO_SCREEN_SCALE_FACTOR=1
export QT_WAYLAND_DISABLE_WINDOWDECORATION=1

# XDG base dirs
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_CONFIG_DIRS="/etc/xdg:$PATH"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"

# XDG user dirs
export XDG_DESKTOP_DIR="$HOME/desktop"
export XDG_DOCUMENTS_DIR="$HOME/documents"
export XDG_DOWNLOAD_DIR="$HOME/downloads"
export XDG_MUSIC_DIR="$HOME/music"
export XDG_PICTURES_DIR="$HOME/pictures"
export XDG_PUBLICSHARE_DIR="$HOME/public"
export XDG_TEMPLATES_DIR="$HOME/templates"
export XDG_VIDEOS_DIR="$HOME/videos"

# Start dwl
dbus-run-session -- dwl -s 'start-dwl'
